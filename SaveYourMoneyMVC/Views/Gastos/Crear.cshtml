@using SaveYourMoneyMVC.Common.Enums
@using SaveYourMoneyMVC.Models.Gastos
@model GastoViewModel

@{
    Layout = "~/Views/Shared/_Layout_With_NavMenu.cshtml";
    ViewData["Language"] = @Context.User.Claims.FirstOrDefault(claim => claim.Type.Equals("Language")).Value;

    ViewData["Title"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.CreateExpends_Es : Resources.CreateExpends_En;
    ViewData["Page"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.NavMenu_Expends_Es : Resources.NavMenu_Expends_En;
    ViewData["Subpage"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.NavMenu_Create_Es : Resources.NavMenu_Create_En;

    ViewData["TableType"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Expends_Table_Type_Es : Resources.Expends_Table_Type_En;
    ViewData["TableCreated"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Expends_Table_Created_Es : Resources.Expends_Table_Created_En;
    ViewData["TableQuantity"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Expends_Table_Quantity_Es : Resources.Expends_Table_Quantity_En;
    ViewData["TableDescription"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Expends_Table_Description_Es : Resources.Expends_Table_Description_En;
    ViewData["TableFile"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Expends_Table_File_Es : Resources.Expends_Table_File_En;
    ViewData["TableNoAttachedFile"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Expends_Table_NoFile_Es : Resources.Expends_Table_NoFile_En;

    ViewData["ButtonSearch"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Button_Search_Es : Resources.Button_Search_En;
    ViewData["ButtonSave"] = ViewData["Language"].Equals(LANGUAGE_ES) ? Resources.Button_Save_Es : Resources.Button_Save_En;

    var expendsType = ViewData["Language"].Equals(LANGUAGE_ES) ? EXPENDS_TYPE_ES : EXPENDS_TYPE_EN;
}

<script>
    $(document).ready(function() {
        var file_content = $("#FileContent");
        var file_name = $("#FileName");
        var file_type = $("#FileType");
        var selected_file = $("#selected_file");
        var file_input = $("#file_input");
        var file_input_label = $("#file_input_label");

        initGastosJs(file_content, file_name, file_type, selected_file, file_input, 20, file_input_label);
    });

</script>

<div class="row no-gutters breadcrumbs_container">
    <div class="col-sm-12 breadcrumbs_header m-b-10">
        <i class="fa fa-university m-r-10" aria-hidden="true"></i> @ViewData["Title"].ToString()
    </div>
    <div class="col-sm-12 breadcrumbs_page_container">
        @ViewData["Page"].ToString() <i class="fa fa-angle-right" aria-hidden="true"></i> @ViewData["Subpage"].ToString()
    </div>
</div>

<div class="d-none">
    <form method="post">
    </form>
</div>

<div class="col-md-8 new-gasto-form-container">
    <form asp-controller="Gastos" asp-action="Crear" method="post">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="row">
            <div class="form-group col-md-6 position-relative">
                <div class="arrow arrow-down form-input-dropdown-arrow"></div>
                <label asp-for="Tipo" class="control-label m-b-10">@ViewData["TableType"]</label>
                <select id="Tipo" asp-for="Tipo" class="form-control form-input-base">
                    @foreach (var value in Enum.GetValues(typeof(Enums.TipoGasto)))
                    {
                        <option value="@value">@expendsType[((int) value)]</option>
                    }
                </select>
            </div>
            <div class="form-group col-md-6">
                <label asp-for="Valor" class="control-label m-b-10">@ViewData["TableQuantity"]</label>
                <input id="Valor" asp-for="Valor" type="number" placeholder='@ViewData["TableQuantity"]' class="form-control form-input-base" />
                <span asp-validation-for="Valor" class="text-danger"></span>
            </div>
        </div>
        <div class="row m-t-25">
            <div class="form-group col-md-6">
                <label asp-for="Created" class="control-label m-b-10">@ViewData["TableCreated"]</label>
                <input id="Created" asp-for="Created" placeholder='@ViewData["TableCreated"]' asp-format="{0:yyyy-MM-dd}" class="form-control form-input-base" />
                <span asp-validation-for="Created" class="text-danger"></span>
            </div>
            <div class="form-group col-md-6">
                <label class="control-label m-b-10">@ViewData["TableFile"]</label>
                <input type="file" id="file_input" class="d-none" onchange="updateFileData(this)" />
                <div class="flex-between-center form-input-base">
                    <p id="selected_file" class="form-input-file-text">@ViewData["TableNoAttachedFile"]</p>
                    <input id="file_input_label" type="button" id="file_btn" class="btn btn-primary gastos-download-button form-input-file-padding-big" value="@ViewData["ButtonSearch"]" />
                </div>
                <input id="FileName" asp-for="FileName" type="text" class="d-none" />
                <input id="FileContent" asp-for="FileContent" type="text" class="d-none" />
                <input id="FileType"asp-for="FileType" type="text" class="d-none" />
            </div>
        </div>
        <div class="row m-t-25">
            <div class="form-group col-12">
                <label asp-for="Descripcion" class="control-label m-b-10">@ViewData["TableDescription"]</label>
                <textarea id="Descripcion" asp-for="Descripcion" placeholder='@ViewData["TableDescription"]' class="form-control form-input-base form-textarea-big"></textarea>
                <span asp-validation-for="Descripcion" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group flex-center-center m-t-25">
            <input type="submit" value='@ViewData["ButtonSave"]' class="col-md-2 btn btn-primary gastos-download-button" />
        </div>
    </form>
</div>